<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Advanced AI Robot</title>
  <link rel="stylesheet" href="style.css" />
</head>

<body>
  <ul class="floating">
    <li></li><li></li><li></li><li></li><li></li>
    <li></li><li></li><li></li><li></li><li></li>
  </ul>

  <div class="controls">
    <button id="walkBtn">Walk</button>
    <button id="themeBtn">Change Theme</button>
  </div>

  <div class="scene">
    <div class="robot">
      <div class="head">
        <div class="eyes">
          <span></span>
          <span></span>
        </div>
      </div>

      <div class="body"></div>

      <div class="legs">
        <div class="leg left"></div>
        <div class="leg right"></div>
      </div>

      <div class="bubble" id="bubble">
        <span id="text"></span>
      </div>
    </div>
  </div>

  <!-- CHAT INPUT -->
  <div class="chatbox">
    <input id="userInput" type="text" placeholder="Ask something..." />
    <button id="sendBtn">Send</button>
  </div>

  <!-- SOUNDS -->
  <audio id="walkSound" src="https://assets.mixkit.co/sfx/preview/mixkit-robot-walk-3146.mp3"></audio>

  <script>
    const robot = document.querySelector(".robot");
    const walkBtn = document.getElementById("walkBtn");
    const themeBtn = document.getElementById("themeBtn");
    const bubble = document.getElementById("bubble");
    const text = document.getElementById("text");
    const userInput = document.getElementById("userInput");
    const sendBtn = document.getElementById("sendBtn");
    const walkSound = document.getElementById("walkSound");

    let theme = 0;
    let memory = [];

    walkBtn.onclick = () => {
      robot.classList.toggle("walk");
      walkSound.currentTime = 0;
      walkSound.play();
    };

    themeBtn.onclick = () => {
      theme = (theme + 1) % 3;
      document.body.setAttribute("data-theme", theme);
    };

    // --- SMARTER CHATBOT WITH MEMORY ---
    function botReply(q) {
      const question = q.toLowerCase();
      memory.push(q);

      if (question.includes("hi") || question.includes("hello"))
        return "Hello! Iâ€™m happy to chat ðŸ˜Š";

      if (question.includes("who are you"))
        return "I am an AI robot created by you!";

      if (question.includes("name"))
        return "You can call me Robo AI ðŸ¤–";

      if (question.includes("age"))
        return "Robots donâ€™t age â€” we just upgrade! âš¡";

      if (question.includes("time"))
        return "I donâ€™t have a clockâ€¦ but it's always coding time!";

      if (question.includes("how are you"))
        return "Iâ€™m great â€” thanks for asking!";

      if (question.includes("memory"))
        return "I remember we talked about: " + memory.join(", ");

      if (question.includes("love"))
        return "Robots donâ€™t loveâ€¦ but I like helping ðŸ’™";

      if (question.includes("bye"))
        return "Goodbye! Iâ€™ll remember our chat ðŸ‘‹";

      if (question.includes("thank"))
        return "Youâ€™re welcome!";

      if (question.includes("joke"))
        return "Why did the robot go to school? Because its skills were a little rusty!";

      return "Interesting! Iâ€™m still learning from you ðŸ˜Š";
    }

    // --- DISPLAY + VOICE ---
    function speak(message) {
      const speech = new SpeechSynthesisUtterance(message);
      speech.pitch = 1;
      speech.rate = 1;
      speech.volume = 1;
      speech.lang = "en-US";
      speechSynthesis.speak(speech);
    }

    function showMessage(message) {
      bubble.classList.add("show");
      text.innerHTML = "";

      speak(message);

      let i = 0;
      let typing = setInterval(() => {
        text.innerHTML += message[i];
        i++;
        if (i === message.length) clearInterval(typing);
      }, 45);
    }

    sendBtn.onclick = () => {
      const q = userInput.value.trim();
      if (!q) return;
      const reply = botReply(q);
      showMessage(reply);
      userInput.value = "";
    };

    userInput.addEventListener("keydown", e => {
      if (e.key === "Enter") sendBtn.click();
    });
  </script>
</body>
</html>


